<html>

<head>
  <title>call-apply-bind</title>
</head>

<body>
  <a href="/ejercicios/">Go back</a>
  <p><em>Abre la consola</em></p>

  <ul>
    <li><button class="call-to-action">Aprender</button></li>
    <li><button class="call-to-action">Aprender Mas </button></li>
    <li><button class="call-to-action"> Nunca pares de aprender</button></li>
  </ul>

  <script>
    // Establece `this` usando `call`
    function saludar() {
      console.log(`Hola soy ${this.name} ${this.apellido} `)
    }

    const nestor = {
      name: "Nestor",
      apellido: "Monroy"
    }

    saludar.call(nestor)

    function caminar(metros, direccion) {
      console.log(`${this.name} camina ${metros} metros hacia ${direccion} `)
    }

    caminar.call(nestor, 200, "sur")

    // Establece `this` usando `apply` y pasar argumentos a la funcion en apply es mas facil con una lista de valores con array
    const valores = [150, "noreste"]
    //caminar.apply(nestor, [400, "norte"])
    caminar.apply(nestor, valores)

    /*
      Call - coma
      Apply - arreglo
    */

    // Estable `this` en una nueva funcion usando `bind`

    const joel = { name: "joel", apellido: "hernandez" }
    const joelSaluda = saludar.bind(joel)
    joelSaluda()

    const joelCamina = caminar.bind(joel, 200)
    joelCamina('sur')

    // Cuando es util usar uno de estos metodos

    const buttons = document.getElementsByClassName("call-to-action")
    /*     buttons.forEach(button => {
          button.onclick = () => alert("No pares")
        });
     */

    //NodeList

    Array.prototype.forEach.call(buttons, button => {
      button.onclick = () => alert("No pares")
    })


  </script>
</body>

</html>