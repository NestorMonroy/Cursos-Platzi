<html>

<head>
  <title>This</title>
</head>

<body>
  <a href="/ejercicios/">Go back</a>
  <p><em>Abre la consola</em></p>

  <script>
    /// this en el scope global this is a window
    //console.log(`this: ${this}` )

    // this en el scope de una funcion

    function whoIsThis() {
      return this
    }
    //console.log(`this: ${whoIsThis()}`)

    // this en el scope de una funcion en strict mode // undefine

    "use strict"

    function whoIsThisStrict() {
      "use strict"
      return this
    }

    console.log(`this: ${whoIsThisStrict()}`)

    // This en el contexto de un objecto
    const person = {
      name: 'Nestor',
      saludar: function () {
        console.log(`Hola soy ${this.name}`)
      }
    }

    person.saludar()

    // this cuando sacamos a una fucnion de un objecto

    const accion = person.saludar
    accion()

    // this en el contexto de una "clase" //  funciona como un constructor

    function Person(name) {
      this.name = name
    }

    Person.prototype.saludar = function () {
      console.log(`Me llamo ${this.name}`)

    }

    const joel = new Person("Joel")
    joel.saludar()

    /*
      this se refiere a la instancia de un objecto
      global this es window, funcion es window execpto si es strip mode 
      si se pone en un objecto, this el objecto 
      cuando se llama una funcion se puede llamar directamente this con call apply y bind
    */

  </script>
</body>

</html>